{% extends "base.html" %}

{% block title %}Recherche de livres{% endblock %}

{% block content %}
<div class="search-container centre">
    <form action="/recherche" method="POST">
        <!-- Les champs dans le formulaire sont d√©j√† pr√©-remplis avec les valeurs pr√©c√©demment saisies -->
    <div class="search-fields centre">
        <label for="auteur">Auteur :</label>
        <input type="text" id="auteur" name="auteur" value="{{ request.form.get('auteur', '') }}">

        <label for="annee">Ann√©e :</label>
        <input type="number" id="annee" name="annee" value="{{ request.form.get('annee', '') }}">

        <label for="titre">Titre :</label>
        <input type="text" id="titre" name="titre" value="{{ request.form.get('titre', '') }}">

        <label for="maison">Maison d'√©dition :</label>
        <input type="text" id="maison" name="maison" value="{{ request.form.get('maison', '') }}">
    </div>

        <div class="filter-options">
            <label>Filtres :</label>
            <label><input type="radio" name="filtre" value="annee_croissant"> Ann√©es croissant</label>
            <label><input type="radio" name="filtre" value="annee_decroissant"> Ann√©es d√©croissant</label>
            <label><input type="radio" name="filtre" value="alpha"> Alphab√©tique</label>
            <label><input type="radio" name="filtre" value="alpha_inverse"> Alphab√©tique inverse</label>
        </div>

        <div class="search-button-container" style="margin-top: 20px; display: flex; justify-content: center;">
            <button type="submit" class="search-button">üîç</button>

</div>

    </form>
</div>

<div class="results-container">
    <div style="height: 50px;"></div>
    {% if livres %}
        <div class="book-grid">
            {% for livre in livres %}
                <div class="book-card row">
                    <div class="book-cover">
                        <!-- Afficher la couverture du livre ici si disponible -->
                        <img src="{{ url_for('static', filename='couverture_exemple.jpg') }}" alt="Couverture">
                        <div style="height: 50px;"></div>
                    </div>
                    <div class="book-info" style="padding-left: 40px">
                    <div class="book-genre">{{ livre[2] }}</div>
                        <div style="height: 50px;"></div>
                    <div class="book-title">
                        <a href="{{ url_for('livre_details', lid=livre[0]) }}">
                            <strong>{{ livre[1] }}</strong>
                        </a>
                    </div>


                        <div style="height: 50px;"></div>
                    <div class="book-annee">{{ livre[3] }}</div>
                    </div>


                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>Aucun livre trouv√©.</p>
    {% endif %}
</div>
{% endblock %}
